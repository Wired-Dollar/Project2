<div class="container">
  <div class="uk-text-center" uk-grid>
    <div class="uk-width-expand@m">
      <div uk-slider>
        <div class="uk-position-center">
            <div id="slider" class="uk-slider-container uk-light">
                <ul class="uk-slider-items uk-child-width-1-2 uk-child-width-1-3@s uk-child-width-1-4@m">
              <li>
                  <p id="image1" alt="">
                  <div class="uk-position-center uk-panel"><h3>Bars and Breweries</h3></div>
              </li>
              <li>
                  <p id="image2" alt="">
                  <div class="uk-position-center uk-panel"><h3>Restaurants</h3></div>
              </li>
              <li>
                  <p id="image3" alt="">
                  <div class="uk-position-center uk-panel"><h3>Sporting Events</h3></div>
              </li>
              <li>
                  <p id="image4" alt="">
                  <div class="uk-position-center uk-panel"><h3>Museums</h3></div>
              </li>
              <li>
                  <p id="image5" alt="">
                  <div class="uk-position-center uk-panel"><h3>Libraries</h3></div>
              </li>
              <li>
                  <p id="image6" alt="">
                  <div class="uk-position-center uk-panel"><h3>Shopping</h3></div>
              </li>
              <li>
                  <p id="image7" alt="">
                  <div class="uk-position-center uk-panel"><h3>Parks</h3></div>
              </li>
              <li>
                  <p id="image8" alt="">
                  <div class="uk-position-center uk-panel"><h3>Other</h3></div>
              </li>
          </ul>
          <a class="uk-position-center-left uk-position-small uk-hidden-hover" href="#" uk-slidenav-previous uk-slider-item="previous"></a>
          <a class="uk-position-center-right uk-position-small uk-hidden-hover" href="#" uk-slidenav-next uk-slider-item="next"></a>
        </div>
        <ul class="uk-slider-nav uk-dotnav uk-flex-center uk-margin"></ul>
      </div>    
    </div>
    <div class="uk-width-1-4@m">
      <button id="new-event" class="uk-position-top-right uk-button uk-button-default" type="button" uk-toggle="target: #offcanvas-flip">Itinerary</button>
        <div id="offcanvas-flip" uk-offcanvas="mode: slide; flip: true; overlay: true">
          <div class="uk-offcanvas-bar">      
              <button class="uk-offcanvas-close" type="button" uk-close></button>
                <ul class="list-group list-group-flush">
                  {{#each event}}
                    <ul uk-accordion>
                      <li class="newEvent">
                        <a class="uk-accordion-title" href="#">{{event_name}}</a>
                          <div class="uk-accordion-content">
                            <p>{{event_address}}</p>
                            <p>{{event_date}}</p>
                            <br>
                            <button id="remove-btn" class="remove-status" data-id="{{id}}"><Center>Remove</Center></button>
                          </div>
                      </li>
                    </ul>
                  {{/each}}
                </ul>
          </div>
        </div>
    </div>  
  </div>
</div>


<script>
$(function() {
  $(".remove-status").on("click", function(event) {
    let id = $(this).data("id");

    let newStatusState = {
      active: false
    };

    // Send the PUT request.
    $.ajax("/api/event/" + id, {
      type: "PUT",
      data: newStatusState
    }).then(
      function() {
        console.log("event remove");
        // Reload the page to get the updated list
        location.reload();
      }
    );
  });

  $(".create-event").on("submit", function(event) {
    // Make sure to preventDefault on a submit event.
    event.preventDefault();

      let newEvent = {
        event_name: $("#event").val().trim(),
        // event_date: $("#event").val().trim(),
        // event_address: $("#event").val().trim(),
        active: true
      };

    // Send the POST request.
    $.ajax("/api/event/", {
      type: "POST",
      data: newevent
    }).then(
      function() {
        console.log("created new event");
        // Reload the page to get the updated list
        location.reload();
      }
    );
  });
});
</script>